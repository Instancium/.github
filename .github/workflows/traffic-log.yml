name: GitHub Traffic Logger

on:
  schedule:
    - cron: '0 */3 * * *' # ĞºĞ°Ğ¶Ğ´Ñ‹Ğµ 3 Ñ‡Ğ°ÑĞ°
  workflow_dispatch:

jobs:
  log-traffic:
    runs-on: ubuntu-latest
    steps:
      - name: Get statistics
        uses: actions/github-script@v7
        with:
          github-token: ${{ secrets.GITHUB_TOKEN }}
          script: |
            const [clones, views] = await Promise.all([
              github.rest.repos.getClones({ owner: 'Instancium', repo: '.github' }),
              github.rest.repos.getViews({ owner: 'Instancium', repo: '.github' })
            ]);

            const time = new Date().toISOString();
            console.log(`\nğŸ“… ${time}`);
            console.log(`ğŸ‘¥ Unique clones: ${clones.data.count}`);
            console.log(`ğŸ‘ï¸ Views: ${views.data.count}`);
